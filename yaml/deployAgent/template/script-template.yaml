- route-template:
    id: script-template
    parameters:
      - name: filePath
    from:
      uri: file://{{filePath}}?include=^.*\.sh$
      steps:
        - log: ${headers}
        - log: ${body}
        - toD: exec:sh?args=${header.fileName}&workingDir=${header.agentName}
#        - process:
#            ref: scriptProcessor
        - convertBodyTo:
            type: String
        - log: ${body}
#        - unmarshal:
#            gzipDeflater: {}
#        - split:
#            method:
#              ref: org.apache.camel.dataformat.tarfile.TarSplitter
#            streaming: true
#        - process:
#            ref: fileProcessor
#        - choice:
#            when:
#              - simple: "${header.fileExtension} == 'jar' || ${header.fileExtension} == 'sh'"
#                steps:
#                  - to: file://../dsp_if
#                  - log: success
#              - simple: ${header.fileExtension} == "yaml"
#                steps:
#                  - choice:
#                      when:
#                        - simple: "${header.CamelFileName} contains 'template'"
#                          steps:
#                            - to: file://../dsp_if/yaml/ifAgent/template
#                            - log: success
#                      otherwise:
#                          steps:
#                            - to: file://../dsp_if/yaml/ifAgent/route
#                            - log: success
#        - to: file:../dsp_if
#        - log: "전송 후 바디: ${body}"